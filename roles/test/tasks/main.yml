- name: Wait for nginx to be available
  wait_for:
    port: 80
    timeout: 10

- name: Test HTTP response from localhost
  uri:
    url: http://localhost
    return_content: yes
  register: http_response

- name: Assert that response contains expected text
  assert:
    that:
      - "'Hello from Ansible NGINX!' in http_response.content"
